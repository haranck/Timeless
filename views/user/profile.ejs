<%- include("../../views/partials/user/header") %>

<title>User Profile</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    /* Breadcrumb styles */
    .breadcrumb-option {
        background: #f3f2ee;
        padding: 20px 0;
        margin-bottom: 30px;
    }

    .breadcrumb__links {
        display: flex;
        align-items: center;
    }

    .breadcrumb__links a {
        font-size: 15px;
        color: #111111;
        margin-right: 18px;
        position: relative;
        text-decoration: none;
    }

    .breadcrumb__links a:after {
        content: "›";
        position: absolute;
        right: -12px;
        top: 0;
        color: #888;
    }

    .breadcrumb__links span {
        font-size: 15px;
        color: #888;
    }

    /* Main content styles */
    .main {
        padding: 30px 0;
        background-color: #f8f9fa;
    }

    /* Sidebar styles */
    .dashboard-menu {
        background-color: #ffffff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .dashboard-menu .nav-link {
        color: #333;
        padding: 12px 15px;
        border-radius: 8px;
        margin-bottom: 8px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        font-weight: 500;
    }

    .dashboard-menu .nav-link i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
    }

    .dashboard-menu .nav-link:hover {
        background-color: #f8f9fa;
        color: #333;
        transform: translateX(5px);
    }

    .dashboard-menu .nav-link.active {
        background-color: #333;
        color: #fff;
    }

    /* Profile content styles */
    .dashboard-content {
        background: #ffffff;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .card {
        border: none;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid #eee;
        padding: 15px 20px;
        font-weight: 600;
    }

    .form-group label {
        font-weight: 500;
        color: #333;
        margin-bottom: 8px;
    }

    .form-control {
        border-radius: 6px;
        border: 1px solid #ddd;
        padding: 10px 15px;
    }

    .btn-success {
        background: linear-gradient(45deg, #ffa500, #ffd700);
        border: none;
        color: #000;
        font-weight: 500;
        padding: 8px 20px;
        border-radius: 5px;
        transition: all 0.3s ease;
    }

    .btn-success:hover {
        background: linear-gradient(45deg, #ff8c00, #ffc000);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(255, 165, 0, 0.2);
        color: #000;
    }

    .btn-primary {
        background: linear-gradient(45deg, #ffa500, #ffd700);
        border: none;
        color: #000;
        font-weight: 500;
        padding: 10px 25px;
        border-radius: 6px;
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        background: linear-gradient(45deg, #ff8c00, #ffc000);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(255, 165, 0, 0.2);
        color: #000;
    }

    .btn-sm {
        padding: 5px 15px;
        font-size: 0.875rem;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
        .dashboard-menu {
            margin-bottom: 20px;
        }
    }
</style>

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__text">
                    <h4><i class="fa fa-user"></i> Profile</h4>
                    <div class="breadcrumb__links">
                        <a href="/">Home</a>
                        <!-- <a href="/shop">Profile</a> -->
                        <span>Profile</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<main class="main">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 m-auto">
                <div class="row">
                    <!-- Sidebar -->
                    <div class="col-md-4">
                        <div class="dashboard-menu">
                            <ul class="nav flex-column" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" href="#dashboard" role="tab">
                                        <i class="fas fa-tachometer-alt"></i>Dashboard
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="address-tab" href="/address" role="tab">
                                        <i class="fas fa-map-marker-alt"></i>My Address
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders" role="tab">
                                        <i class="fas fa-shopping-bag"></i>Orders
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="wallet-tab" data-bs-toggle="tab" href="#track-orders" role="tab">
                                        <i class="fas fa-wallet"></i>Wallet Status
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="wallet-history-tab" data-bs-toggle="tab" href="#wallet-history" role="tab">
                                        <i class="fas fa-history"></i>Wallet History
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="referral-tab" data-bs-toggle="tab" href="#referal" role="tab">
                                        <i class="fas fa-user-friends"></i>Referrals
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="/logout">
                                        <i class="fas fa-sign-out-alt"></i>Logout
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Main Content -->
                    <div class="col-md-8">
                        <div class="tab-content dashboard-content">
                            <div class="tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                                <div class="card card-green">
                                    <div class="card-header">
                                        <h5 class="mb-0 text-center">User Profile</h5>
                                    </div>
                                    <div class="card-body text-center">
                                        <h5 class="card-title">
                                            <%=user.name%>
                                        </h5>
                                        <p class="card-text">
                                            <strong>Phone:</strong>
                                            <%=user.phone%>
                                        </p>
                                        <p class="card-text">
                                            <strong>Email:</strong>
                                            <%=user.email%>
                                        </p>
                                        <a href="/change-email" class="btn btn-sm btn-success ml-2">Change Email</a>
                                        <a href="/change-password" class="btn btn-sm btn-success">Change Password</a>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                                <div class="row">
                                    <% if (userAddress && userAddress.address && userAddress.address.length > 0) { %>
                                        <% userAddress.address.forEach((address) => { %>
                                            <div class="col-lg-6">
                                                <div class="card mb-3 mb-lg-0">
                                                    <div class="card-header">
                                                        <h5 class="mb-0">
                                                            <%= address.addressType %>
                                                        </h5>
                                                    </div>
                                                    <div class="card-body">
                                                        <address>
                                                            <%= address.name %><br>
                                                            <%= address.city %><br>
                                                            <%= address.landMark %><br>
                                                            <%= address.state %><br>
                                                            <%= address.pincode %><br>
                                                            <%= address.phone %><br>
                                                            <%= address.altPhone %>
                                                        </address>
                                                        <div class="d-flex justify-content-between">
                                                            <a href="#" class="btn-small">Edit</a>
                                                            <a href="#" class="btn-small">Delete</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <% }); %>
                                        <% } else { %>
                                            <div class="col-lg-12">
                                                <p>No addresses found.</p>
                                            </div>
                                            <% } %>
                                </div>
                                <div class="mt-4">
                                    <a href="/addAddress" class="btn btn-primary">Add New Address</a>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Your Orders</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Order</th>
                                                        <th>Status</th>
                                                        <th>Total</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>
                                                            <a href="" class="btn-small d-block">View</a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="track-orders" role="tabpanel" aria-labelledby="track-orders-tab">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Wallet</h5>
                                    </div>
                                    <div class="card-body contact-from-area">
                                        <div class="row">
                                            <div class="col-lg-8 mx-auto text-center mt-90">
                                                <form>
                                                    <div class="form-group">
                                                        <label for="walletAmount" class="h4">Amount</label>
                                                        <div class="h3"></div>
                                                    </div>
                                                    <button type="button" class="btn btn-success" onclick="">Add Money</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="wallet-history" role="tabpanel" aria-labelledby="orders-tab">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Wallet History</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Date</th>
                                                        <th>Status</th>
                                                        <th>Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade" id="referal" role="tabpanel" aria-labelledby="track-orders-tab">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Referal</h5>
                                    </div>
                                    <div class="card-body">
                                        <h6 class="mb-3">Refer your friends and earn money!</h6>
                                        <p>Share this link: <strong>></strong></p>
                                        <p>Earned: ₹</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<%- include("../../views/partials/user/footer") %>